(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eecd12c"],{4884:function(t,e,a){"use strict";var n=a("5c40"),i=a.n(n);i.a},5105:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-list-container"},[t.typeTemplateMenu?a("div",{staticClass:"tips"},[t._v("*可以通过“更多菜单”中选择“创建项目”，开始通过模板创建项目")]):t._e(),a("div",{staticClass:"project-list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"60",fixed:""}}),a("el-table-column",{attrs:{prop:"name",label:"项目名","min-width":"300"}}),a("el-table-column",{attrs:{prop:"start",label:"计划开始",width:"180"}}),a("el-table-column",{attrs:{prop:"end",label:"计划结束",width:"180"}}),"actual"===this.type?a("el-table-column",{attrs:{prop:"actuallyStart",label:"实际开始",width:"180"}}):t._e(),"actual"===this.type?a("el-table-column",{attrs:{prop:"actuallyEnd",label:"实际结束",width:"180"}}):t._e(),a("el-table-column",{attrs:{prop:"head",label:"负责人",width:"120s"}}),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"el-button",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.check(e)}}},[t._v("查看")]),a("el-dropdown",{on:{click:function(a){return t.handleClick(e)}}},[a("el-button",{attrs:{size:"mini",type:"danger",plain:""}},[t._v("\n                            更多菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",on:{click:t.projectFolder},nativeOn:{click:function(a){return t.foldManage(e)}}},[t._v("项目文件夹")]):t._e(),t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(e){return t.missionCreate(e)}}},[t._v("任务建立")]):t._e(),t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(a){return t.createProject(e)}}},[t._v("创建项目")]):t._e(),t.typeProjectMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(e){return t.openGant(e)}}},[t._v("任务甘特图")]):t._e(),t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(a){return t.deleteProjectBeforeConfirm(e)}}},[t._v("删除")]):t._e()],1)],1)]}}])})],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-count":t.totalPage,layout:"total, prev, pager, next, jumper",total:t.totalCount},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.getTargetPageInfo}})],1)])},i=[],o=a("873c");function r(t){return t.map(function(t){return{id:t.id,name:t.proj_name,start:t.proj_info_start_date,end:t.proj_info_finish_date}})}var s={name:"dofineProjectList",components:{},filter:{},props:{type:{default:"actual",type:String},mode:{default:"",type:String}},data:function(){return{tableData:[],currentPage:1,totalPage:1,totalCount:1}},computed:{typeProjectMenu:function(){return"actual"===this.type},typeTemplateMenu:function(){return"template"===this.type}},watch:{},created:function(){this.getTargetPageInfo(1)},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:{foldManage:function(t){this.$router.push("/manage/folder")},createProject:function(t){this.$router.push({name:"新建项目",params:{msg:t.row}})},missionCreate:function(){this.$router.push({name:"任务创建"})},deleteProject:function(t){var e=Object(o["a"])(this.tableData);e.splice(t.$index,1),this.tableData=e},deleteProjectBeforeConfirm:function(t){var e=this;this.$confirm("此操作将永久该项目模板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteProject(t),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},check:function(t){this.$router.push({name:"项目查看",params:{msg:t.row,check:!0}})},projectFolder:function(){this.$router.push({name:"项目文件夹"})},openGant:function(){this.$emit("openGant",!0)},getTargetPageInfo:function(t){var e=this;"myself"===this.mode?this.axios.post("/api/template",{page:t,myself:!0}).then(function(t){e.tableData=r(t.data.data.list),e.totalPage=parseInt(t.data.data.totalPage),e.totalCount=parseInt(t.data.data.total)}):this.axios.post("/api/template",{page:t}).then(function(t){e.tableData=t.data.data.list,e.totalPage=parseInt(t.data.data.totalPage),e.totalCount=parseInt(t.data.data.total)})}}},c=s,l=(a("bec2"),a("6691")),d=Object(l["a"])(c,n,i,!1,null,"fce073fa",null);e["a"]=d.exports},"5c40":function(t,e,a){},"633e":function(t,e,a){},7773:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"templete-list"},[a("dofine-title"),a("dofine-project-list",{attrs:{type:"template",tableData:t.tableData},on:{deleteProject:t.deleteProject}})],1)},i=[],o=a("7de9"),r=a("5105"),s={name:"templete_list",components:{dofineTitle:o["a"],dofineProjectList:r["a"]},filter:{},props:{},data:function(){return{tableData:[{id:283,name:"国土违法",start:"2018-09-03",end:"2018-10-28",acStart:"2018-09-03 16:40:15",acEnd:"",charge:"刘建高",type:"国土",source:[{name:"客户经理",user:[{id:102,name:"容少敏",level:102,group:[{description:"",id:45,level:3,name:"东翼编制用地科",orders:23,paterId:40,sources:["org.dsplatform.orm.Source@28811"]}],role:[{description:"办理人(收文-拟文)",id:10123,isLive:1,name:"区日常-经办人"},{description:"接受分派工作的人",id:12,isLive:1,name:"经办人"},{description:"用地科",id:52,isLive:1,name:"用地科"},{description:"规划人员（不要修改，否则无法编辑用户）",id:10045,isLive:1,name:"区日常-规划人员"},{description:"出证打印",id:20,isLive:1,name:"出证打印人员"}]}]},{name:"假面骑士",user:[{id:140,name:"黄纬杰",level:140,group:[{description:"",id:49,level:3,name:"大沥工作站",orders:27,paterId:40,sources:["org.dsplatform.orm.Source@28811"]}],role:[{description:"办理人(收文-拟文)",id:10123,isLive:1,name:"区日常-经办人"},{description:"接受分派工作的人",id:12,isLive:1,name:"经办人"},{description:"规划人员（不要修改，否则无法编辑用户）",id:10045,isLive:1,name:"区日常-规划人员"},{description:"出证打印",id:20,isLive:1,name:"出证打印人员"}]},{id:184,name:"刘燕贞",level:184,group:[{description:"",id:56,level:3,name:"丹灶工作站",orders:88,paterId:41,sources:["org.dsplatform.orm.Source@28811"]}],role:[{description:"办理人(收文-拟文)",id:10123,isLive:1,name:"区日常-经办人"},{description:"审核人",id:37,isLive:1,name:"审核人"},{description:"用于项目分派",id:11,isLive:1,name:"项目分派"},{description:"项目分派（丹灶）",id:43,isLive:1,name:"项目分派（丹灶）"},{description:"部门分派",id:10229,isLive:1,name:"区日常-部门分派"},{description:"规划人员（不要修改，否则无法编辑用户）",id:10045,isLive:1,name:"区日常-规划人员"},{description:"科室主管（科长）",id:10038,isLive:1,name:"区日常-部门主管"}]}]}]},{id:283,name:"国土违法",start:"2018-09-03",end:"2018-10-28",acStart:"2018-09-03 16:40:15",acEnd:"",charge:"刘建高",type:"市政",source:[{name:"客户经理",user:[]}]}]}},computed:{},watch:{},created:function(){},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:{deleteProject:function(t){this.tableData=t},testButton:function(){console.log("test"),this.$router.push({path:"/manage/template_list/myself"})}}},c=s,l=(a("4884"),a("6691")),d=Object(l["a"])(c,n,i,!1,null,"6d8833e4",null);e["default"]=d.exports},"7b42":function(t,e,a){"use strict";var n=a("633e"),i=a.n(n);i.a},"7de9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dofine-title-wrapper"},[a("div",{staticClass:"line"}),a("h3",{staticClass:"title"},[t._v(t._s(t.acTitle))])])},i=[],o=(a("7364"),{name:"dofineProjectTitle",props:{title:{default:"",type:String}},computed:{acTitle:function(){return""===this.title?this.$route.name:this.title}}}),r=o,s=(a("7b42"),a("6691")),c=Object(s["a"])(r,n,i,!1,null,null,null);e["a"]=c.exports},"7f75":function(t,e,a){},bec2:function(t,e,a){"use strict";var n=a("7f75"),i=a.n(n);i.a}}]);