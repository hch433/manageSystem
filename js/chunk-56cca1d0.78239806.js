(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56cca1d0"],{"0401":function(e,t,s){"use strict";var i=s("fbdf"),n=s.n(i);n.a},"1cd2":function(e,t,s){},2585:function(e,t,s){"use strict";var i=s("77db"),n=s.n(i);n.a},"496a":function(e,t,s){"use strict";var i=s("8fc9"),n=s.n(i);n.a},"4b0a":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"55a0":function(e,t,s){"use strict";var i=s("a013"),n=s("4b0a"),o=s("35dd");s("629c")("search",1,function(e,t,s,a){return[function(s){var i=e(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,i):new RegExp(s)[t](String(i))},function(e){var t=a(s,e,this);if(t.done)return t.value;var r=i(e),c=String(this),l=r.lastIndex;n(l,0)||(r.lastIndex=0);var u=o(r,c);return n(r.lastIndex,l)||(r.lastIndex=l),null===u?-1:u.index}]})},"5c55":function(e,t,s){"use strict";var i=s("1cd2"),n=s.n(i);n.a},"633e":function(e,t,s){},"68bd":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"my-project-mission-container"},[i("dofine-project-title",{attrs:{title:t.$route.name}}),i("div",{staticClass:"my-project-mission-wrapper"},[i("div",{staticClass:"left"},[i("dofine-menu")],1),i("div",{staticClass:"right"},[i("div",{staticClass:"top"},[i("div",[i("span",[t._v("搜索:")]),i("el-input",{staticClass:"search-input",attrs:{size:"small","prefix-icon":"el-icon-search",placeholder:"请输入要搜索的内容"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),i("el-select",{staticClass:"search-select",attrs:{placeholder:"请选择",size:"small"},model:{value:t.optionsValue,callback:function(e){t.optionsValue=e},expression:"optionsValue"}},t._l(t.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("div",[i("span",{staticClass:"outline-level-title"},[t._v("任务级别:")]),i("el-radio",{attrs:{label:0},model:{value:t.activeOutlineLevel,callback:function(e){t.activeOutlineLevel=e},expression:"activeOutlineLevel"}},[t._v("全部")]),t._l(t.outlineLevel,function(e,s){return i("el-radio",{key:s,attrs:{label:e},model:{value:t.activeOutlineLevel,callback:function(e){t.activeOutlineLevel=e},expression:"activeOutlineLevel"}},[t._v("级别"+t._s(e))])})],2)]),i("div",{ref:"missionDataTableScroll",staticClass:"mission-data-table"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchResult,height:616,"row-class-name":t.rowClass}},[i("el-table-column",{attrs:{fixed:"",prop:"name",label:"任务名称","min-width":"200"}}),i("el-table-column",{attrs:{prop:"startDate",label:"任务开始时间","min-width":"150"}}),i("el-table-column",{attrs:{prop:"endDate",label:"任务结束时间","min-width":"150"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("dofine-button",{attrs:{backgroundColor:"71cbf3"},nativeOn:{click:function(s){return t.openDofineMissionDetails(e.row)}}},[t._v("查看")])]}}])})],1)],1)]),t.missionRead?i("div",{staticClass:"curtain",on:{click:function(){e.$refs.missionRead.close()}}}):t._e(),i("transition",{attrs:{name:"dofine-mission-animate"}},[t.missionRead?i("mission-read",{directives:[{name:"drag",rawName:"v-drag"}],ref:"missionRead",attrs:{editor:1,missionLists:t.missionData,editorMsg:t.activeMission},on:{"update:editorMsg":function(e){t.activeMission=e},"update:editor-msg":function(e){t.activeMission=e},closeRead:t.closeRead}}):t._e()],1)],1)],1)},n=[],o=(s("2338"),s("fb37"),s("7364"),s("f301"),s("df99"),s("55a0"),s("f763"),s("a506")),a=s("7de9"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dofine-mission-details-container"},[s("div",{staticClass:"dofine-mission-details-wrapper"},[s("div",{staticClass:"close-button",on:{click:e.close}},[s("div",{staticClass:"line-one line"}),s("div",{staticClass:"line-two line"})]),s("div",{staticClass:"dofine-mission-details-wrapper"},[s("div",{staticClass:"top v-drag-header"},[s("div",{staticClass:"title"},[s("p",[e._v(e._s(e.missionTitle))])])]),s("div",{staticClass:"bottom"},[s("div",{staticClass:"left"},[s("Ex-mission-list",{attrs:{mode:e.mode},on:{componentsSaveProgress:e.componentsSaveProgress}})],1),s("div",{staticClass:"right"},[s("div",{staticClass:"clearfix dofine-mission-details-menu-wrapper"},[s("div",{staticClass:"dofine-mission-details-menu"},e._l(e.swiperMenu,function(t,i){return s("div",{key:i,staticClass:"dofine-mission-details-menu-item",class:i===e.activeSwiperIndex?"active":"",on:{click:function(t){return e.slideTo(i)}}},[s("i",{class:t.icon}),e._v("\n                                "+e._s(t.name)+"\n                            ")])}),0)]),s("swiper",{ref:"mySwiper",staticClass:"dofine-mission-details-swiper",attrs:{options:e.swiperOption}},[s("swiper-slide",{staticClass:"dofine-mission-details-swiper-item swiper-no-swiping"},[s("div",{staticClass:"dofine-mission-details-item progress"},[s("div",{staticClass:"tasks-progress"},[s("div",{staticClass:"title"},[e._v("任务进度:")]),s("el-slider",{attrs:{disabled:e.progressKey,"show-input":""},on:{change:e.progressValueChange},model:{value:e.missionProgressValue,callback:function(t){e.missionProgressValue=t},expression:"missionProgressValue"}})],1),s("div",{staticClass:"mission-operate-button-container"},[s("div",{staticClass:"mission-operate-button",class:e.progressKey?"stop":"active",on:{click:function(){!e.progressKey&&e.submitProgress()}}},[s("span",{staticClass:"text"},[e._v("提交进度")])]),s("div",{staticClass:"mission-operate-button",class:e.startMissionKey?"stop":"active",on:{click:function(){!e.startMissionKey&&e.submitMissionState(!0)}}},[s("span",{staticClass:"text"},[e._v("任务开始")])]),s("div",{staticClass:"mission-operate-button",class:e.endMissionKey?"active":"stop",on:{click:function(){return e.endMissionKey?e.submitMissionState(!1):""}}},[s("span",{staticClass:"text"},[e._v("任务结束")])])])])]),s("swiper-slide",{staticClass:"dofine-mission-details-swiper-item swiper-no-swiping"},[s("div",{staticClass:"dofine-mission-details-item"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""}},[e._v("添加")]),s("el-table",{staticClass:"dofine-mission-details-table",staticStyle:{width:"100%"},attrs:{data:e.missionReceiveList,height:"360"}},[s("el-table-column",{attrs:{label:"需求文件"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.projectFile?s("span",[e._v(e._s(t.row.projectFile.name))]):e._e()]}}])}),s("el-table-column",{attrs:{label:"必要",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("div",{staticClass:"must-circle",class:e.row.mustExist?"active":""},[s("div",{staticClass:"must-circle-white"})])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"dofine-el-button",attrs:{content:"点击后将查看上传的任务文件",placement:"left-end"}},[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.downloadFile(t.row)}}},[e._v("查看")])],1),s("el-tooltip",{staticClass:"dofine-el-button",attrs:{content:"点击后将上传任务文件",placement:"top-end"}},[s("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","show-file-list":!1,limit:1}},[s("el-button",{attrs:{type:"text",size:"small"}},[e._v("上传")])],1)],1)]}}])})],1)],1)]),s("swiper-slide",{staticClass:"dofine-mission-details-swiper-item swiper-no-swiping"},[s("div",{staticClass:"dofine-mission-details-item"},[s("el-button",{attrs:{type:"primary",size:"mini",plain:""}},[e._v("添加")]),s("el-table",{staticClass:"dofine-mission-details-table",staticStyle:{width:"100%"},attrs:{data:e.missionOutputList,height:"360"}},[s("el-table-column",{attrs:{prop:"name",label:"需求文件"}}),s("el-table-column",{attrs:{label:"必要",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("div",{staticClass:"must-circle",class:e.row.mustExist?"active":""},[s("div",{staticClass:"must-circle-white"})])]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"dofine-el-button",attrs:{content:"点击后将下载上传的任务文件",placement:"left-end"}},[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.downloadFile(t.row)}}},[e._v("查看")])],1),s("el-tooltip",{staticClass:"dofine-el-button",attrs:{content:"点击后将下载模板文件",placement:"left-end"}},[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.downloadFile(t.row)}}},[e._v("模板")])],1),s("el-tooltip",{staticClass:"dofine-el-button",attrs:{content:"点击后将上传任务文件",placement:"top-end"}},[s("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/",multiple:"","show-file-list":!1,limit:1}},[s("el-button",{attrs:{type:"text",size:"small"}},[e._v("上传")])],1)],1)]}}])})],1)],1)]),s("swiper-slide",{staticClass:"dofine-mission-details-swiper-item swiper-no-swiping"},[s("div",{staticClass:"dofine-mission-details-item"},[s("el-table",{staticClass:"dofine-mission-details-table",staticStyle:{width:"100%"},attrs:{data:e.missionInfo.process,height:"360"}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),s("el-table-column",{attrs:{prop:"process.name",label:"项目相关流程名称"}}),s("el-table-column",{attrs:{width:"80",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("div",{staticClass:"must-circle",class:e.row.hadFinish?"active":""})]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"}},[e._v("查看")])]}}])})],1)],1)])],1),e._m(0)],1)])])]),e.dofineMemberOpen?s("dofine-member",{attrs:{beforeSelectedUsers:e.missionInfo.user,single:!0},on:{closeMember:e.closeMember,getUserData:e.getUserData}}):e._e()],1)},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"submit-button"},[s("span",{staticClass:"text"})])}],l=(s("7bc1"),s("d4d5"),s("9849"),s("4ec3")),u=s("591a"),d=s("6fe8"),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ex-mission-tree-list-container"},[e.editor?e._e():s("div",{staticClass:"ex-mission-tree-list-curtain"}),s("div",{staticClass:"ex-mission-tree-list-search-container"},[s("el-autocomplete",{staticClass:"inline-input",attrs:{"prefix-icon":"el-icon-search","fetch-suggestions":e.querySearch,placeholder:"请输入要找到的任务","trigger-on-focus":!1,size:"small"},on:{select:e.handleSelectSearch},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[s("div",{staticClass:"dofine-task-autocomplete-name"},[e._v(e._s(i.value))]),s("span",{staticClass:"dofine-task-autocomplete-outline"},[e._v("层级:"+e._s(i.outline))])]}}]),model:{value:e.searchVal,callback:function(t){e.searchVal=t},expression:"searchVal"}})],1),s("div",{staticClass:"ex-mission-tree-list-scroll"},[s("div",{ref:"treeContainer",staticClass:"ex-mission-tree-list-wrapper"},[s("el-tree",{ref:"exTree",attrs:{data:e.activeMissionList,props:e.defaultProps,"node-key":"id","expand-on-click-node":!1,"default-expanded-keys":e.defaultExpandedKeys,indent:10},on:{"node-click":e.changeActiveNode},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return s("span",{class:"item-target-"+n.id},[s("span",{staticClass:"custom-tree-node",class:{active:e.activeTreeNodeId===n.id,"be-search":e.searchNodeId===n.id}},[e._v(e._s(i.label))])])}}])})],1)])])},p=[],m=s("ecd2");function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function v(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(s,!0).forEach(function(t){Object(o["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var g={name:"ExMissionList",components:{},filter:{},props:{mode:{default:0,type:Number},editor:{default:1,type:Number}},data:function(){return{defaultProps:{children:"children",label:"name"},searchVal:"",defaultExpandedKeys:[],activeTreeNodeId:0,searchNodeId:0}},computed:v({activeMissionListFlat:function(){var e=this.activeMissionList,t=[];function s(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.forEach(function(e,o){t.push(e),e.children&&s(e.children,i+1,n+String(o+1)+".")})}return s(e,1),t}},Object(u["c"])("mission",["activeMissionList","treeNodeId","contentChange"])),watch:{},created:function(){},mounted:function(){var e=this;this.$nextTick(function(){e.treeContainer=new m["a"](e.$refs.treeContainer,{click:!0,scrollbar:{interactive:!0,fade:!1},bounce:!1,mouseWheel:!0}),e.editor&&(e.defaultExpandedKeys.push(e.treeNodeId),e.activeTreeNodeId=e.treeNodeId)})},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:v({querySearch:function(e,t){var s=this.activeMissionListFlat.filter(function(t){return t.name.includes(e)});s=s.map(function(e){return{value:e.name,id:e.id,outline:e.outline}}),t(s)},changeActiveNode:function(e){var t=this;this.contentChange?this.$confirm("任务进度作出修改但未提交保存","提示",{confirmButtonText:"提交后切换任务",cancelButtonText:"直接切换任务",type:"info"}).then(function(){t.setActiveTreeNodeId(e.id),t.activeTreeNodeId=t.treeNodeId,t.$emit("componentsSaveProgress"),t.$message({type:"success",message:"任务进度已保存!"})}).catch(function(){t.setActiveTreeNodeId(e.id),t.activeTreeNodeId=t.treeNodeId,t.setContentChangeState(!1)}):(this.setActiveTreeNodeId(e.id),this.activeTreeNodeId=this.treeNodeId)},handleSelectSearch:function(e){var t=this;this.defaultExpandedKeys=[e.id],setTimeout(function(){var s=document.querySelector(".item-target-".concat(e.id)).offsetTop;s=s-450<0?0:s-450,t.searchNodeId=e.id,t.treeContainer.scrollTo(0,-s,1e3)},500)}},Object(u["b"])("mission",["setActiveTreeNodeId","setContentChangeState"]))},b=g,w=(s("f143"),s("6691")),y=Object(w["a"])(b,f,p,!1,null,null,null),C=y.exports;function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function M(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(s,!0).forEach(function(t){Object(o["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var x={name:"creaateNode",components:{swiper:d["swiper"],swiperSlide:d["swiperSlide"],ExMissionList:C},filter:{},props:{mode:{default:4,type:Number},createNode:{default:!1,type:Boolean},outline:{default:"1",type:String},missionLists:{default:function(){return[]},type:Array},treeMode:{default:0,type:Number},editorMsg:{default:function(){return{}},type:Object}},data:function(){return{swiperOption:{on:{slideChange:this.slideChange}},activeSwiperIndex:0,progress:0,missionInfo:{id:"",name:"",start:"",end:"",user:{},process:[],outfiles:[],recfiles:[]},dofineMemberOpen:!1,missionProgressValue:0,originProgress:0}},computed:M({swiper:function(){return this.$refs.mySwiper.swiper},swiperMenu:function(){return[{name:"任务操作",icon:"el-icon-setting"},{name:"收取文件",icon:"el-icon-download",info:6},{name:"输出文件",icon:"el-icon-upload2",info:1},{name:"相关流程",icon:"el-icon-share",info:1}]},progressStatus:function(){return this.progress<50?"exception":this.progress<100?"":"success"},missionTitle:function(){return this.missionInfo.name?this.missionInfo.name:"暂无任务名"},newMissionLeval:function(){return this.outline.split(".").length},missionReceiveList:function(){return this.missionInfo.recfiles&&this.missionInfo.recfiles.length>0?this.editorMsg.recfiles:[]},missionOutputList:function(){return this.missionInfo.outfiles&&this.missionInfo.outfiles.length>0?this.missionInfo.outfiles:[]},missionMsg:function(){return{createTime:this.getFormatDate(new Date),deleteState:0,finishDate:"",hadUpdate:!1,id:this.missionInfo.id||Math.ceil(1e7*Math.random()),isDeleted:!1,isNew:!1,mustExist:0,name:this.missionTitle,outfiles:this.missionOutputList,outlineLevel:this.newMissionLeval,processes:this.missionInfo.process||[],projectId:86,recfiles:this.missionReceiveList,startDate:this.missionInfo.start,endDate:this.missionInfo.end,resource:this.resourceExis?this.missionInfo.user:{}}},resourceExis:function(){return Object.keys(this.missionInfo.user).length>0},startMissionKey:function(){return Boolean(this.editorMsg.actuallyStart)},endMissionKey:function(){return this.editorMsg.actuallyStart&&!this.editorMsg.actuallyEnd},progressKey:function(){return Boolean(!this.editorMsg.actuallyStart||this.editorMsg.actuallyEnd)},allProcessFinish:function(){return!this.notFinishProcess.length>0},notFinishProcess:function(){return this.editorMsg.processes?this.editorMsg.processes.filter(function(e){return!e.hadFinish}):[]}},Object(u["c"])("mission",["contentChange"])),watch:{editorMsg:function(){this.missionInfo.end=this.editorMsg.endDate,this.missionInfo.start=this.editorMsg.startDate,this.missionInfo.name=this.editorMsg.name,this.missionInfo.user=this.editorMsg.resource||{},this.missionInfo.process=this.editorMsg.processes||[],this.missionInfo.id=this.editorMsg.id,this.missionInfo.recfiles=this.editorMsg.recfiles,this.missionInfo.outfiles=this.editorMsg.outfiles,this.missionProgressValue=parseInt(this.editorMsg.progress),this.originProgress=parseInt(this.editorMsg.progress)}},created:function(){var e=this;this.axios.get(l["a"]).then(function(t){e.processesList=t.data.processes}).catch(function(e){console.error(e)})},mounted:function(){this.missionInfo.process=this.editorMsg.processes||[],this.missionInfo.id=this.editorMsg.id,this.missionInfo.recfiles=this.editorMsg.recfiles,this.missionInfo.outfiles=this.editorMsg.outfiles,this.missionProgressValue=parseInt(this.editorMsg.progress),this.setActiveTreeNodeId(this.editorMsg.id)},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:M({downloadFile:function(e){console.log(e)},slideChange:function(){this.activeSwiperIndex=this.swiper.snapIndex},slideTo:function(e){this.swiper.slideTo(e)},confirmProgressChange:function(){var e=this;this.$confirm("此操作将保存修改的进度, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message({type:"success",message:"修改成功!"})}).catch(function(){e.$message({type:"info",message:"已取消修改"})})},close:function(){var e=this;this.contentChange?this.$confirm("任务进度作出修改但未提交保存","提示",{confirmButtonText:"提交后关闭",cancelButtonText:"直接关闭",type:"info"}).then(function(){e.$set(e.editorMsg,"progress",e.missionProgressValue),e.$emit("closeRead"),e.setContentChangeState(!1),e.$message({type:"success",message:"进度已保存!"})}).catch(function(){e.setContentChangeState(!1),e.$emit("closeRead")}):this.$emit("closeRead")},rewrite:function(){var e=this;this.$confirm("确定修改任务？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then(function(){e.$emit("rewrite",e.missionMsg),e.$message({type:"success",message:"编辑成功!"})}).catch(function(){e.$message({type:"info",message:"已取消"})})},getFormatDate:function(e){var t=e.getFullYear(),s=e.getMonth()+1,i=e.getDate();return t+"-"+(s<10?"0"+s:s)+"-"+(i<10?"0".concat(i):i)},submitProgress:function(){var e=this;this.$confirm("确定提交任务进度?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$set(e.editorMsg,"progress",e.missionProgressValue),e.setContentChangeState(!1),e.$message({type:"success",message:"提交成功!"})}).catch(function(){e.$message({type:"info",message:"已取消提交"})})},submitMissionState:function(e){var t=this;this.$confirm("确定".concat(e?"开始":"结束","任务?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e?(t.$set(t.editorMsg,"actuallyStart",t.getFormatDate(new Date)),t.$message({type:"success",message:"任务已开始!"})):t.allProcessFinish?(t.$set(t.editorMsg,"actuallyEnd",t.getFormatDate(new Date)),t.missionProgressValue=100,t.$set(t.editorMsg,"progress","".concat(t.missionProgressValue,"%")),t.$message({type:"success",message:"任务已结束!"})):(t.$notify.error({title:"仍有流程尚未结束!",message:"《".concat(t.notFinishProcess[0].process.name,"》等").concat(t.notFinishProcess.length,"个流程未结束")}),t.slideTo(3))}).catch(function(){t.$message({type:"info",message:"已取消提交"})})},progressValueChange:function(){this.missionProgressValue===this.originProgress?this.setContentChangeState(!1):this.setContentChangeState()},componentsSaveProgress:function(){this.$set(this.editorMsg,"progress",this.missionProgressValue),this.setContentChangeState(!1)}},Object(u["b"])("mission",["setActiveTreeNodeId","setContentChangeState"]))},O=x,j=(s("5c55"),Object(w["a"])(O,r,c,!1,null,"9b3a044c",null)),S=j.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"projectMissionScroll",staticClass:"dofine-menu-container"},[s("div",e._l(e.projectList,function(t){return s("div",{key:t.projectId,staticClass:"dofine-menu-item",class:e.acitveProjectId===t.projectId?"active":"",on:{click:function(s){return e.getProjectInfo(t.projectId)}}},[s("div",{staticClass:"title"},[e._v(e._s(t.name))])])}),0)])},P=[],k={name:"dofineMenu",components:{},filter:{},props:{},data:function(){return{projectList:[{name:"国土违法",projectId:283},{name:"国土违法测试模版",projectId:284},{name:"松岗夏边村1008号",projectId:285},{name:"国土项目0320",projectId:286}],projectId:""}},computed:{acitveProjectId:function(){return this.projectId?this.projectId:this.projectList.length>0?this.projectList[0].projectId:""}},watch:{},created:function(){var e=this;this.$nextTick(function(){e.projectMissionScroll=new m["a"](e.$refs.projectMissionScroll,{click:!0,mouseWheel:!0})})},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:{getProjectInfo:function(e){this.projectId=e}}},D=k,T=(s("0401"),Object(w["a"])(D,_,P,!1,null,"4d88986b",null)),$=T.exports;function L(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function N(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?L(s,!0).forEach(function(t){Object(o["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):L(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var E={name:"myProjectMission",components:{dofineProjectTitle:a["a"],dofineMenu:$,missionRead:S},filter:{},props:{},data:function(){return{missionData:[],activeOutlineLevel:0,options:[{value:"1",label:"任务名称"}],optionsValue:"1",search:"",missionRead:!1,activeMission:{}}},computed:N({outlineLevel:function(){var e=[],t=0;return this.missionData.forEach(function(s){s.outlineLevel>t&&(t=s.outlineLevel,e.push(t))}),e},activeMissionData:function(){var e=this;return 0===this.activeOutlineLevel?this.missionData:this.missionData.filter(function(t){return t.outlineLevel===e.activeOutlineLevel})},searchResult:function(){var e=this;return this.search?this.activeMissionData.filter(function(t){return t.name.includes(e.search)}):this.activeMissionData}},Object(u["c"])("mission",["treeNodeId"])),watch:{treeNodeId:function(){for(var e=this.missionData.length,t=0;t<e;t++)if(this.missionData[t].id===this.treeNodeId){this.activeMission=this.missionData[t];break}}},created:function(){var e=this;this.axios.get(l["a"]).then(function(t){e.missionData=t.data.missions,e.setActiveMissionList(e.missionData),e.setActiveTreeNodeId(e.missionData[0].id)}),this.$nextTick(function(){})},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:N({rowClass:function(e){var t=e.row,s=e.rowIndex;if(t.endDate){var i=new Date(t.endDate).getTime();if(!t.actuallyEnd){var n=(new Date).getTime();return n-i>0?"danger-row":""}}if(s%2===0)return"zebra"},check:function(e){console.log(e)},openDofineMissionDetails:function(e){this.activeMission=e,this.missionRead=!0},closeRead:function(){this.missionRead=!1}},Object(u["b"])("mission",["setActiveMissionList","setActiveTreeNodeId"]))},R=E,V=(s("496a"),s("2585"),Object(w["a"])(R,i,n,!1,null,"2ad5b841",null));t["default"]=V.exports},"77db":function(e,t,s){},"7b42":function(e,t,s){"use strict";var i=s("633e"),n=s.n(i);n.a},"7de9":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dofine-title-wrapper"},[s("div",{staticClass:"line"}),s("h3",{staticClass:"title"},[e._v(e._s(e.acTitle))])])},n=[],o=(s("7364"),{name:"dofineProjectTitle",props:{title:{default:"",type:String}},computed:{acTitle:function(){return""===this.title?this.$route.name:this.title}}}),a=o,r=(s("7b42"),s("6691")),c=Object(r["a"])(a,i,n,!1,null,null,null);t["a"]=c.exports},"8fc9":function(e,t,s){},a233:function(e,t,s){},f143:function(e,t,s){"use strict";var i=s("a233"),n=s.n(i);n.a},fbdf:function(e,t,s){}}]);