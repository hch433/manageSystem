(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fefe5b7"],{5105:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-list-container"},[t.typeTemplateMenu?a("div",{staticClass:"tips"},[t._v("*可以通过“更多菜单”中选择“创建项目”，开始通过模板创建项目")]):t._e(),a("div",{staticClass:"project-list-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"60",fixed:""}}),a("el-table-column",{attrs:{prop:"name",label:"项目名","min-width":"300"}}),a("el-table-column",{attrs:{prop:"start",label:"计划开始",width:"180"}}),a("el-table-column",{attrs:{prop:"end",label:"计划结束",width:"180"}}),"actual"===this.type?a("el-table-column",{attrs:{prop:"actuallyStart",label:"实际开始",width:"180"}}):t._e(),"actual"===this.type?a("el-table-column",{attrs:{prop:"actuallyEnd",label:"实际结束",width:"180"}}):t._e(),a("el-table-column",{attrs:{prop:"head",label:"负责人",width:"120s"}}),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"el-button",attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.check(e)}}},[t._v("查看")]),a("el-dropdown",{on:{click:function(a){return t.handleClick(e)}}},[a("el-button",{attrs:{size:"mini",type:"danger",plain:""}},[t._v("\n                            更多菜单"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",on:{click:t.projectFolder},nativeOn:{click:function(a){return t.foldManage(e)}}},[t._v("项目文件夹")]):t._e(),t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(e){return t.missionCreate(e)}}},[t._v("任务建立")]):t._e(),t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(a){return t.createProject(e)}}},[t._v("创建项目")]):t._e(),t.typeProjectMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(e){return t.openGant(e)}}},[t._v("任务甘特图")]):t._e(),t.typeProjectMenu||t.typeTemplateMenu?a("el-dropdown-item",{staticClass:"el-dropdown-item",nativeOn:{click:function(a){return t.deleteProjectBeforeConfirm(e)}}},[t._v("删除")]):t._e()],1)],1)]}}])})],1)],1),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-count":t.totalPage,layout:"total, prev, pager, next, jumper",total:t.totalCount},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.getTargetPageInfo}})],1)])},o=[],i=a("873c");function r(t){return t.map(function(t){return{id:t.id,name:t.proj_name,start:t.proj_info_start_date,end:t.proj_info_finish_date}})}var l={name:"dofineProjectList",components:{},filter:{},props:{type:{default:"actual",type:String},mode:{default:"",type:String}},data:function(){return{tableData:[],currentPage:1,totalPage:1,totalCount:1}},computed:{typeProjectMenu:function(){return"actual"===this.type},typeTemplateMenu:function(){return"template"===this.type}},watch:{},created:function(){this.getTargetPageInfo(1)},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:{foldManage:function(t){this.$router.push("/manage/folder")},createProject:function(t){this.$router.push({name:"新建项目",params:{msg:t.row}})},missionCreate:function(){this.$router.push({name:"任务创建"})},deleteProject:function(t){var e=Object(i["a"])(this.tableData);e.splice(t.$index,1),this.tableData=e},deleteProjectBeforeConfirm:function(t){var e=this;this.$confirm("此操作将永久该项目模板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.deleteProject(t),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},check:function(t){this.$router.push({name:"项目查看",params:{msg:t.row,check:!0}})},projectFolder:function(){this.$router.push({name:"项目文件夹"})},openGant:function(){this.$emit("openGant",!0)},getTargetPageInfo:function(t){var e=this;"myself"===this.mode?this.axios.post("/api/template",{page:t,myself:!0}).then(function(t){e.tableData=r(t.data.data.list),e.totalPage=parseInt(t.data.data.totalPage),e.totalCount=parseInt(t.data.data.total)}):this.axios.post("/api/template",{page:t}).then(function(t){e.tableData=t.data.data.list,e.totalPage=parseInt(t.data.data.totalPage),e.totalCount=parseInt(t.data.data.total)})}}},c=l,s=(a("bec2"),a("6691")),u=Object(s["a"])(c,n,o,!1,null,"fce073fa",null);e["a"]=u.exports},5802:function(t,e,a){},"633e":function(t,e,a){},"7b42":function(t,e,a){"use strict";var n=a("633e"),o=a.n(n);o.a},"7de9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dofine-title-wrapper"},[a("div",{staticClass:"line"}),a("h3",{staticClass:"title"},[t._v(t._s(t.acTitle))])])},o=[],i=(a("7364"),{name:"dofineProjectTitle",props:{title:{default:"",type:String}},computed:{acTitle:function(){return""===this.title?this.$route.name:this.title}}}),r=i,l=(a("7b42"),a("6691")),c=Object(l["a"])(r,n,o,!1,null,null,null);e["a"]=c.exports},"7f75":function(t,e,a){},b607:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"templete-list"},[a("dofine-title"),a("dofine-project-list",{attrs:{type:"template",mode:"myself"}})],1)},o=[],i=a("7de9"),r=a("5105"),l={name:"my_templete_list",components:{dofineTitle:i["a"],dofineProjectList:r["a"]},filter:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},activited:function(){},update:function(){},beforeRouteUpdate:function(){},methods:{}},c=l,s=(a("e9fc"),a("6691")),u=Object(s["a"])(c,n,o,!1,null,"2fdfa38d",null);e["default"]=u.exports},bec2:function(t,e,a){"use strict";var n=a("7f75"),o=a.n(n);o.a},e9fc:function(t,e,a){"use strict";var n=a("5802"),o=a.n(n);o.a}}]);